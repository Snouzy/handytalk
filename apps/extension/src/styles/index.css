@import "tailwindcss";

@theme {
  /* ── Organic palette ── */
  --color-org-sage:          oklch(72% 0.05 155);
  --color-org-sage-light:    oklch(92% 0.03 155);
  --color-org-sage-deep:     oklch(58% 0.06 155);
  --color-org-sand:          oklch(95% 0.02 80);
  --color-org-sand-dark:     oklch(88% 0.03 80);
  --color-org-earth:         oklch(45% 0.04 50);
  --color-org-earth-light:   oklch(60% 0.03 50);
  --color-org-earth-muted:   oklch(72% 0.02 50);
  --color-org-terracotta:    oklch(62% 0.12 40);
  --color-org-terracotta-bg: oklch(94% 0.04 40);
  --color-org-rose:          oklch(60% 0.10 15);
  --color-org-rose-bg:       oklch(95% 0.03 15);
  --color-org-moss:          oklch(58% 0.08 145);
  --color-org-moss-bg:       oklch(93% 0.04 145);

  /* ── Fonts ── */
  --font-serif: Georgia, 'Times New Roman', serif;

  /* ── Animations ── */
  --animate-breathe:  breathe 3s ease-in-out infinite;
  --animate-fade-in:  fade-in 400ms ease-out;
  --animate-slide-up: slide-up 400ms ease-out;

  @keyframes breathe {
    0%, 100% { transform: scale(1); opacity: 0.6; }
    50%      { transform: scale(1.15); opacity: 1; }
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }
}

/* Base resets */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    width: 400px;
    @apply bg-org-sand text-org-earth;
  }
}

/* Spinner — organic breathing pulse */
@utility spinner {
  @apply size-8 rounded-full mx-auto animate-breathe;
  background: radial-gradient(circle, var(--color-org-sage) 30%, transparent 70%);
}

/* Base UI tooltip overrides — must stay as CSS classes */
.comment-history__tooltip {
  @apply max-w-[340px] px-3 py-2 bg-org-earth text-white text-xs leading-relaxed rounded-xl break-words z-100;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  transform-origin: var(--transform-origin);
  transition: transform 400ms ease-out, opacity 400ms ease-out;
}

.comment-history__tooltip[data-starting-style],
.comment-history__tooltip[data-ending-style] {
  opacity: 0;
  transform: scale(0.95);
}
